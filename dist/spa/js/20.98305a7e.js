(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{5117:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"flex flex-center column bg-primary"},[i("img",{attrs:{src:a("81fb")}}),i("h2",{staticClass:"titulo text-secondary"},[e._v("Painel de controle")]),i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"q-gutter-y-md",staticStyle:{"max-width":"600px"}},[i("q-card",{staticClass:"q-pa-md"},[i("q-form",{ref:"formLogin",staticClass:"q-gutter-md"},[i("div",{staticClass:"text-h6 titulo text-secondary"},[e._v("Faça seu login")]),i("q-input",{attrs:{filled:"",label:"E-mail *","lazy-rules":"",rules:[e.$rules.required("Digite o seu e-mail"),e.$rules.email("E-mail inválido")]},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),i("q-input",{ref:"password",staticClass:"q-mt-md",attrs:{filled:"",label:"Senha",type:e.isPwd?"password":"text","lazy-rules":"",rules:[e.$rules.required("Digite a sua senha"),e.$rules.minLength(5,"Sua senha deve ter ao menos 5 letras"),e.$rules.maxLength(10,"Sua senha não pode ser maior que 10 letras")]},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.login.senha,callback:function(t){e.$set(e.login,"senha",t)},expression:"login.senha"}}),i("div",{staticClass:"row justify-end"},[i("q-btn",{staticClass:"q-mt-md titulo",attrs:{type:"submit",loading:e.submitting,label:"Entrar",color:"primary","text-color":"secondary"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmitLogin(t)}},scopedSlots:e._u([{key:"loading",fn:function(){return[i("q-spinner-facebook")]},proxy:!0}])})],1)],1)],1)],1)])])},s=[],n={name:"AdminIndex",computed:{requiredSenha(){return[e=>e&&e.length>5||"Sua senha deve ser > que 5 caracteres"]}},data(){return{isPwd:"password",submitting:!1,confirma_senha:"",login:{email:"",senha:""}}},methods:{confirmaSenha(e){return e=>e!=this.$refs.senha.value||"Sua senha deve ser > que 5 caracteres"},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"E-mail inválido"},onSubmitLogin(){this.submitting=!0,this.$refs.formLogin.validate().then((e=>{if(e){let e=this.login;this.$store.dispatch("admin/login",e).then((e=>{console.log(e),this.submitting=!1,e.data.error?(this.$q.notify({icon:"warning",color:"negative",message:e.data.error}),this.$refs.formCadastro.resetValidation()):this.$router.push("admin/area-restrita/candidatos")})).catch((e=>{console.log(e),this.submitting=!1}))}else this.submitting=!1,console.log("entrou no erro")}))}}},o=n,r=a("2877"),l=a("9989"),u=a("f09f"),c=a("0378"),d=a("27f9"),m=a("0016"),p=a("9c40"),f=a("e669"),g=a("eebe"),h=a.n(g),b=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=b.exports;h()(b,"components",{QPage:l["a"],QCard:u["a"],QForm:c["a"],QInput:d["a"],QIcon:m["a"],QBtn:p["a"],QSpinnerFacebook:f["a"]})},"81fb":function(e,t,a){e.exports=a.p+"img/logo-top-villa-do-vale-boutique-hotel-e-bistro.ae67bd53.png"}}]);