(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"1da1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md full-width"},[a("q-table",{attrs:{data:t.data,columns:t.columns,color:"amber",filter:t.filter,"selected-rows-label":t.getSelectedString,pagination:t.pagination,loading:t.loading,"row-key":"id",grid:t.list,"grid-header":t.list},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"top",fn:function(e){return[a("q-btn",{attrs:{color:"primary",to:t.pagina+"/add",icon:"add",round:""},on:{click:function(e){return t.enviaObjParaEditar(null)}}}),a("q-space"),a("q-btn-toggle",{staticClass:"q-ma-sm",attrs:{push:"",size:"10px","toggle-color":"primary",options:[{icon:"fas fa-list",value:!1},{icon:"fas fa-grip-vertical",value:!0}]},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}})]}},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"nome",attrs:{props:e}},[t._v("\n              "+t._s(e.row.nome)+"\n          ")]),a("q-td",{key:"email",attrs:{props:e}},[t._v("\n              "+t._s(e.row.email)+"\n          ")]),a("q-td",[a("div",{staticClass:"botoes"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",size:"sm",color:"negative",icon:"fas fa-trash"},on:{click:function(a){return t.dialogItem(e.row.nome,e.row.id)}}})],1)])],1)]}}])}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.dialog.persistent,callback:function(e){t.$set(t.dialog,"persistent",e)},expression:"dialog.persistent"}},[a("q-card",{staticClass:"bg-red text-white",staticStyle:{width:"320px"}},[a("q-card-section",{staticClass:"column no-wrap flex-center"},[a("q-icon",{attrs:{name:"fa fa-trash",size:"30px"}}),a("p",[t._v(t._s(t.dialog.tituloRemove))]),a("div",{staticClass:"text-h6"},[t._v(t._s(t.dialog.nome))])],1),a("q-card-actions",{staticClass:"bg-white text-red",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:" cancelar "}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"remover "},on:{click:function(e){return t.removeItem()}}})],1)],1)],1)],1)},s=[],n=(a("a434"),a("ddb0"),a("bc3a"),a("fabd"),{name:"PageIndex",data(){return{pagina:"usuarios",dialog:{id:0,nome:"",persistent:!1,tituloRemove:this.$t("temCertezaRemover")},list:!1,optionsCategoria:[],selected:[],filter:"",text:"",loading:!1,tituloRemove:this.$t("temCertezaRemover"),pagination:{sortBy:"nome",descending:!1,page:1,rowsPerPage:10,rowsNumber:10},columns:[{name:"nome",required:!0,label:"Nome",align:"left",field:t=>t.nome,format:t=>""+t},{name:"email",required:!0,label:"E-mail",align:"left",field:t=>t.email,format:t=>""+t},{name:"Opções",label:"Opções",align:"right"}],data:[]}},methods:{enviaObjParaEditar(t){this.$store.commit("admin/editarObjeto",t)},dialogItem(t,e){this.dialog.persistent=!0,this.dialog.nome=t,this.dialog.id=e},removeItem(){this.$store.dispatch("admin/deleteUsuario",this.dialog.id).then((t=>{this.requestPagination()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.data.length}`},requestPagination(){this.onRequest({pagination:this.pagination})},onRequest(t){let{page:e,rowsPerPage:a,rowsNumber:i,sortBy:s,descending:n}=t.pagination;this.loading=!0;let o=0===a?i:a,r=e-1;console.log(e),this.$store.dispatch("admin/list",{pagina:this.pagina,offset:r,limit:o}).then((t=>{console.log(t);let i=t.data.list,o=t.data.total;this.data.splice(0,this.data.length,...i),this.pagination.rowsNumber=o,this.pagination.page=e,this.pagination.rowsPerPage=a,this.pagination.sortBy=s,this.pagination.descending=n,this.loading=!1}))}},created(){this.requestPagination()}}),o=n,r=(a("ebb4"),a("2877")),l=a("eaac"),d=a("9c40"),c=a("2c91"),g=a("6a67"),p=a("bd08"),m=a("db86"),u=a("8f8e"),h=a("24e8"),f=a("f09f"),b=a("a370"),v=a("0016"),q=a("4b7e"),w=a("7f67"),C=a("eebe"),k=a.n(C),x=Object(r["a"])(o,i,s,!1,null,null,null);e["default"]=x.exports;k()(x,"components",{QTable:l["a"],QBtn:d["a"],QSpace:c["a"],QBtnToggle:g["a"],QTr:p["a"],QTd:m["a"],QCheckbox:u["a"],QDialog:h["a"],QCard:f["a"],QCardSection:b["a"],QIcon:v["a"],QCardActions:q["a"]}),k()(x,"directives",{ClosePopup:w["a"]})},c768:function(t,e,a){},ebb4:function(t,e,a){"use strict";var i=a("c768"),s=a.n(i);s.a}}]);